<ng-container *ngIf="loading$ | async"><app-loading-page></app-loading-page></ng-container>

<ng-container *ngIf="error$ | async as error" class="text-red-500">Error: {{ error }}</ng-container>

<div *ngIf="data$ | async as data" class="ld:px-64 md:px-24 px-5">
  <form
    [formGroup]="authForm"
    (ngSubmit)="onSubmit()"
    class="form_background flex flex-col gap-4 px-6 py-8 rounded-md "
  >
    <div class="form_container">
      <label for="displayName" class="form_label">Nombre de usuario</label>
      <input id="displayName" type="text" formControlName="displayName" class="form_input" />
    </div>

    <div class="form_container {{ rol != 'ADMIN' && 'hidden' }}">
      <label for="role" class="form_label">Rol</label>
      <select name="role" id="role" class="form_input" formControlName="role">
        <option value="PROGRAMMER">Programador</option>
        <option value="USER">Usuario</option>
        <option value="ADMIN">Administrador</option>
      </select>
    </div>

    <button
      type="submit"
      class="w-full py-2 rounded-lg bg-indigo-600 font-medium hover:bg-indigo-700 active:scale-98 hover:cursor-pointer"
    >
      {{ loadingSubmit ? 'Cargando' : 'Guardar datos' }}
    </button>
  </form>
</div>
